import{_ as S,M as C,x as M,e as a,f as e,t as m,p as v,i as c,j as V,n as h,k as n,A as u,v as y,F as p,z as f,L as b,o as d,q as w,s as k}from"./app-DHpn0u2P.js";const U={name:"CriteriaManagement",data(){return{saving:!1,selectedCriteriaMap:{age:!1,ethnicity:!1,children:!1,wantsKids:!1,bodyType:!1,height:!1,religion:!1,relationshipStatus:!1,location:!1,income:!1},criteriaValues:{age:{min:18,max:65},ethnicity:[],children:"",wantsKids:"",bodyType:"",height:{min:"60",max:"78"},religion:[],relationshipStatus:"",location:{country:"",state:"",city:""},income:{min:1e4,max:25e4}},ethnicityOptions:["Asian","Black/African","Caucasian","Hispanic/Latino","Indian","Middle Eastern","Native American","Pacific Islander","Mixed","Other"],bodyTypeOptions:["Slim","Athletic","Average","Curvy","Muscular","A few extra pounds","Big and Beautiful"],heightOptions:Array.from({length:37},(r,t)=>(60+t).toString()),religionOptions:["Christianity","Islam","Hinduism","Buddhism","Judaism","Sikhism","Atheism","Agnosticism","Other"],countryOptions:["United States","Canada","United Kingdom","Australia","Germany","France","India","China","Brazil","Other"]}},computed:{...C({user:r=>r.auth.user,authorization:r=>r.auth.authorization}),selectedCriteria(){return Object.entries(this.selectedCriteriaMap).filter(([r,t])=>t).map(([r])=>r)},canSelectMore(){var r;return this.selectedCriteria.length<(((r=this.user)==null?void 0:r.criteria_limit)||0)},isValid(){var r;return this.selectedCriteria.length>0&&this.selectedCriteria.length<=(((r=this.user)==null?void 0:r.criteria_limit)||0)}},methods:{formatPackageName(r){return r.charAt(0).toUpperCase()+r.slice(1)},isSelected(r){return this.selectedCriteriaMap[r]},handleCriteriaChange(r){this.selectedCriteriaMap[r]&&!this.canSelectMore&&(this.selectedCriteriaMap[r]=!1,alert(`You can only select up to ${this.user.criteria_limit} criteria with your current package.`))},formatHeight(r){const t=Math.floor(r/12),g=r%12;return`${t}'${g}"`},async saveCriteria(){if(!this.isValid)return;this.saving=!0;const r={};this.selectedCriteria.forEach(t=>{r[t]=this.criteriaValues[t]});try{(await M.post("/api/user/criteria",{criteria:r},{headers:{Authorization:`Bearer ${this.authorization.token}`}})).data.success&&alert("Criteria saved successfully!")}catch(t){console.error("Error saving criteria:",t),alert("Failed to save criteria. Please try again.")}finally{this.saving=!1}}},watch:{user:{immediate:!0,handler(r){r!=null&&r.purchased_package||this.$router.push("/client/billing")}}},async created(){var r;if((r=this.user)!=null&&r.criteria)try{const t=JSON.parse(this.user.criteria);Object.keys(t).forEach(g=>{this.selectedCriteriaMap.hasOwnProperty(g)&&(this.selectedCriteriaMap[g]=!0,this.criteriaValues[g]=t[g])})}catch(t){console.error("Error parsing existing criteria:",t)}}},o=r=>(w("data-v-51ee0107"),r=r(),k(),r),O={class:"container mx-auto p-6"},T={key:0,class:"mb-10 bg-white p-8 rounded-xl shadow-lg"},A={class:"text-2xl font-semibold text-gray-800 mb-4"},K={class:"text-gray-600 text-lg"},I={class:"font-semibold"},B={key:0},N={class:"bg-white p-8 rounded-xl shadow-lg"},E=o(()=>e("h3",{class:"text-xl font-semibold text-gray-800 mb-6"},"Select Your Match Criteria",-1)),H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={class:"flex items-center mb-3"},P=["disabled"],D=o(()=>e("label",{for:"age",class:"ml-3 text-lg font-medium text-gray-700"},"Age Range",-1)),R={key:0,class:"ml-8 mt-2"},Y={class:"flex flex-col md:flex-row md:space-x-4"},F={class:"flex-1"},L=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Min Age",-1)),j={class:"flex-1 mt-4 md:mt-0"},J=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Max Age",-1)),q={class:"flex items-center mb-3"},G=["disabled"],W=o(()=>e("label",{for:"ethnicity",class:"ml-3 text-lg font-medium text-gray-700"},"Ethnicity (select up to 4)",-1)),Q={key:0,class:"ml-8 mt-2"},X={class:"grid grid-cols-2 gap-2"},Z=["value","disabled"],$={class:"ml-2 text-gray-700"},ee={class:"flex items-center mb-3"},te=["disabled"],ie=o(()=>e("label",{for:"children",class:"ml-3 text-lg font-medium text-gray-700"},"Children",-1)),se={key:0,class:"ml-8 mt-2"},le=o(()=>e("option",{value:""},"Select preference",-1)),re=o(()=>e("option",{value:"no"},"No children",-1)),oe=o(()=>e("option",{value:"yes"},"Has children",-1)),ae=o(()=>e("option",{value:"doesnt_matter"},"Doesn't matter",-1)),ne=[le,re,oe,ae],de={class:"flex items-center mb-3"},ce=["disabled"],ue=o(()=>e("label",{for:"wantsKids",class:"ml-3 text-lg font-medium text-gray-700"},"Wants Kids",-1)),me={key:0,class:"ml-8 mt-2"},he=o(()=>e("option",{value:""},"Select preference",-1)),ge=o(()=>e("option",{value:"yes"},"Yes",-1)),be=o(()=>e("option",{value:"no"},"No",-1)),ye=o(()=>e("option",{value:"maybe"},"Maybe",-1)),pe=[he,ge,be,ye],fe={class:"flex items-center mb-3"},_e=["disabled"],xe=o(()=>e("label",{for:"bodyType",class:"ml-3 text-lg font-medium text-gray-700"},"Body Type",-1)),ve={key:0,class:"ml-8 mt-2"},Se=o(()=>e("option",{value:""},"Select body type",-1)),Ce=["value"],Me={class:"flex items-center mb-3"},Ve=["disabled"],we=o(()=>e("label",{for:"height",class:"ml-3 text-lg font-medium text-gray-700"},"Height Range",-1)),ke={key:0,class:"ml-8 mt-2"},Ue={class:"flex flex-col md:flex-row md:space-x-4"},Oe={class:"flex-1"},Te=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Min Height",-1)),Ae=o(()=>e("option",{value:""},"Select height",-1)),Ke=["value"],Ie={class:"flex-1 mt-4 md:mt-0"},Be=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Max Height",-1)),Ne=o(()=>e("option",{value:""},"Select height",-1)),Ee=["value"],He={class:"flex items-center mb-3"},ze=["disabled"],Pe=o(()=>e("label",{for:"religion",class:"ml-3 text-lg font-medium text-gray-700"},"Religion (select up to 4)",-1)),De={key:0,class:"ml-8 mt-2"},Re={class:"grid grid-cols-2 gap-2"},Ye=["value","disabled"],Fe={class:"ml-2 text-gray-700"},Le={class:"flex items-center mb-3"},je=["disabled"],Je=o(()=>e("label",{for:"relationshipStatus",class:"ml-3 text-lg font-medium text-gray-700"},"Relationship Status",-1)),qe={key:0,class:"ml-8 mt-2"},Ge=o(()=>e("option",{value:""},"Select status",-1)),We=o(()=>e("option",{value:"never_married"},"Never married",-1)),Qe=o(()=>e("option",{value:"divorced"},"Divorced",-1)),Xe=o(()=>e("option",{value:"separated"},"Separated",-1)),Ze=[Ge,We,Qe,Xe],$e={class:"flex items-center mb-3"},et=["disabled"],tt=o(()=>e("label",{for:"location",class:"ml-3 text-lg font-medium text-gray-700"},"Location (select up to 4)",-1)),it={key:0,class:"ml-8 mt-2"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},lt=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Country",-1)),rt=o(()=>e("option",{value:""},"Select country",-1)),ot=["value"],at=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"State",-1)),nt={class:"md:col-span-2"},dt=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"City",-1)),ct={class:"flex items-center mb-3"},ut=["disabled"],mt=o(()=>e("label",{for:"income",class:"ml-3 text-lg font-medium text-gray-700"},"Income Range",-1)),ht={key:0,class:"ml-8 mt-2"},gt={class:"flex flex-col md:flex-row md:space-x-4"},bt={class:"flex-1"},yt=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Min Income ($)",-1)),pt={class:"flex-1 mt-4 md:mt-0"},ft=o(()=>e("label",{class:"block text-sm text-gray-600 mb-1"},"Max Income ($)",-1)),_t={class:"mt-8"},xt=["disabled"];function vt(r,t,g,St,l,s){var x;return d(),a("div",O,[(x=r.user)!=null&&x.purchased_package?(d(),a("div",T,[e("h2",A," Your "+m(s.formatPackageName(r.user.purchased_package))+" Package ",1),e("p",K,[v(" You can select up to "),e("span",I,m(r.user.criteria_limit),1),v(" criteria "),s.selectedCriteria.length>0?(d(),a("span",B," ("+m(s.selectedCriteria.length)+" selected) ",1)):c("",!0)])])):c("",!0),e("div",N,[E,e("form",{onSubmit:t[35]||(t[35]=V((...i)=>s.saveCriteria&&s.saveCriteria(...i),["prevent"]))},[e("div",H,[e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("age")}])},[e("div",z,[n(e("input",{type:"checkbox",id:"age","onUpdate:modelValue":t[0]||(t[0]=i=>l.selectedCriteriaMap.age=i),disabled:!s.canSelectMore&&!s.isSelected("age"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[1]||(t[1]=i=>s.handleCriteriaChange("age"))},null,40,P),[[u,l.selectedCriteriaMap.age]]),D]),s.isSelected("age")?(d(),a("div",R,[e("div",Y,[e("div",F,[L,n(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=i=>l.criteriaValues.age.min=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"18",max:"100"},null,512),[[y,l.criteriaValues.age.min]])]),e("div",j,[J,n(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=i=>l.criteriaValues.age.max=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"18",max:"100"},null,512),[[y,l.criteriaValues.age.max]])])])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("ethnicity")}])},[e("div",q,[n(e("input",{type:"checkbox",id:"ethnicity","onUpdate:modelValue":t[4]||(t[4]=i=>l.selectedCriteriaMap.ethnicity=i),disabled:!s.canSelectMore&&!s.isSelected("ethnicity"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[5]||(t[5]=i=>s.handleCriteriaChange("ethnicity"))},null,40,G),[[u,l.selectedCriteriaMap.ethnicity]]),W]),s.isSelected("ethnicity")?(d(),a("div",Q,[e("div",X,[(d(!0),a(p,null,f(l.ethnicityOptions,i=>(d(),a("label",{key:i,class:"flex items-center"},[n(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=_=>l.criteriaValues.ethnicity=_),value:i,class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:l.criteriaValues.ethnicity.length>=4&&!l.criteriaValues.ethnicity.includes(i)},null,8,Z),[[u,l.criteriaValues.ethnicity]]),e("span",$,m(i),1)]))),128))])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("children")}])},[e("div",ee,[n(e("input",{type:"checkbox",id:"children","onUpdate:modelValue":t[7]||(t[7]=i=>l.selectedCriteriaMap.children=i),disabled:!s.canSelectMore&&!s.isSelected("children"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[8]||(t[8]=i=>s.handleCriteriaChange("children"))},null,40,te),[[u,l.selectedCriteriaMap.children]]),ie]),s.isSelected("children")?(d(),a("div",se,[n(e("select",{"onUpdate:modelValue":t[9]||(t[9]=i=>l.criteriaValues.children=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},ne,512),[[b,l.criteriaValues.children]])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("wantsKids")}])},[e("div",de,[n(e("input",{type:"checkbox",id:"wantsKids","onUpdate:modelValue":t[10]||(t[10]=i=>l.selectedCriteriaMap.wantsKids=i),disabled:!s.canSelectMore&&!s.isSelected("wantsKids"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[11]||(t[11]=i=>s.handleCriteriaChange("wantsKids"))},null,40,ce),[[u,l.selectedCriteriaMap.wantsKids]]),ue]),s.isSelected("wantsKids")?(d(),a("div",me,[n(e("select",{"onUpdate:modelValue":t[12]||(t[12]=i=>l.criteriaValues.wantsKids=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},pe,512),[[b,l.criteriaValues.wantsKids]])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("bodyType")}])},[e("div",fe,[n(e("input",{type:"checkbox",id:"bodyType","onUpdate:modelValue":t[13]||(t[13]=i=>l.selectedCriteriaMap.bodyType=i),disabled:!s.canSelectMore&&!s.isSelected("bodyType"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[14]||(t[14]=i=>s.handleCriteriaChange("bodyType"))},null,40,_e),[[u,l.selectedCriteriaMap.bodyType]]),xe]),s.isSelected("bodyType")?(d(),a("div",ve,[n(e("select",{"onUpdate:modelValue":t[15]||(t[15]=i=>l.criteriaValues.bodyType=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[Se,(d(!0),a(p,null,f(l.bodyTypeOptions,i=>(d(),a("option",{key:i,value:i},m(i),9,Ce))),128))],512),[[b,l.criteriaValues.bodyType]])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("height")}])},[e("div",Me,[n(e("input",{type:"checkbox",id:"height","onUpdate:modelValue":t[16]||(t[16]=i=>l.selectedCriteriaMap.height=i),disabled:!s.canSelectMore&&!s.isSelected("height"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[17]||(t[17]=i=>s.handleCriteriaChange("height"))},null,40,Ve),[[u,l.selectedCriteriaMap.height]]),we]),s.isSelected("height")?(d(),a("div",ke,[e("div",Ue,[e("div",Oe,[Te,n(e("select",{"onUpdate:modelValue":t[18]||(t[18]=i=>l.criteriaValues.height.min=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[Ae,(d(!0),a(p,null,f(l.heightOptions,i=>(d(),a("option",{key:i,value:i},m(s.formatHeight(i)),9,Ke))),128))],512),[[b,l.criteriaValues.height.min]])]),e("div",Ie,[Be,n(e("select",{"onUpdate:modelValue":t[19]||(t[19]=i=>l.criteriaValues.height.max=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[Ne,(d(!0),a(p,null,f(l.heightOptions,i=>(d(),a("option",{key:i,value:i},m(s.formatHeight(i)),9,Ee))),128))],512),[[b,l.criteriaValues.height.max]])])])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("religion")}])},[e("div",He,[n(e("input",{type:"checkbox",id:"religion","onUpdate:modelValue":t[20]||(t[20]=i=>l.selectedCriteriaMap.religion=i),disabled:!s.canSelectMore&&!s.isSelected("religion"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[21]||(t[21]=i=>s.handleCriteriaChange("religion"))},null,40,ze),[[u,l.selectedCriteriaMap.religion]]),Pe]),s.isSelected("religion")?(d(),a("div",De,[e("div",Re,[(d(!0),a(p,null,f(l.religionOptions,i=>(d(),a("label",{key:i,class:"flex items-center"},[n(e("input",{type:"checkbox","onUpdate:modelValue":t[22]||(t[22]=_=>l.criteriaValues.religion=_),value:i,class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:l.criteriaValues.religion.length>=4&&!l.criteriaValues.religion.includes(i)},null,8,Ye),[[u,l.criteriaValues.religion]]),e("span",Fe,m(i),1)]))),128))])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("relationshipStatus")}])},[e("div",Le,[n(e("input",{type:"checkbox",id:"relationshipStatus","onUpdate:modelValue":t[23]||(t[23]=i=>l.selectedCriteriaMap.relationshipStatus=i),disabled:!s.canSelectMore&&!s.isSelected("relationshipStatus"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[24]||(t[24]=i=>s.handleCriteriaChange("relationshipStatus"))},null,40,je),[[u,l.selectedCriteriaMap.relationshipStatus]]),Je]),s.isSelected("relationshipStatus")?(d(),a("div",qe,[n(e("select",{"onUpdate:modelValue":t[25]||(t[25]=i=>l.criteriaValues.relationshipStatus=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},Ze,512),[[b,l.criteriaValues.relationshipStatus]])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("location")}])},[e("div",$e,[n(e("input",{type:"checkbox",id:"location","onUpdate:modelValue":t[26]||(t[26]=i=>l.selectedCriteriaMap.location=i),disabled:!s.canSelectMore&&!s.isSelected("location"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[27]||(t[27]=i=>s.handleCriteriaChange("location"))},null,40,et),[[u,l.selectedCriteriaMap.location]]),tt]),s.isSelected("location")?(d(),a("div",it,[e("div",st,[e("div",null,[lt,n(e("select",{"onUpdate:modelValue":t[28]||(t[28]=i=>l.criteriaValues.location.country=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[rt,(d(!0),a(p,null,f(l.countryOptions,i=>(d(),a("option",{key:i,value:i},m(i),9,ot))),128))],512),[[b,l.criteriaValues.location.country]])]),e("div",null,[at,n(e("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=i=>l.criteriaValues.location.state=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter state"},null,512),[[y,l.criteriaValues.location.state]])]),e("div",nt,[dt,n(e("input",{type:"text","onUpdate:modelValue":t[30]||(t[30]=i=>l.criteriaValues.location.city=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"},null,512),[[y,l.criteriaValues.location.city]])])])])):c("",!0)],2),e("div",{class:h(["criteria-item",{"opacity-50 cursor-not-allowed":!s.canSelectMore&&!s.isSelected("income")}])},[e("div",ct,[n(e("input",{type:"checkbox",id:"income","onUpdate:modelValue":t[31]||(t[31]=i=>l.selectedCriteriaMap.income=i),disabled:!s.canSelectMore&&!s.isSelected("income"),class:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:t[32]||(t[32]=i=>s.handleCriteriaChange("income"))},null,40,ut),[[u,l.selectedCriteriaMap.income]]),mt]),s.isSelected("income")?(d(),a("div",ht,[e("div",gt,[e("div",bt,[yt,n(e("input",{type:"number","onUpdate:modelValue":t[33]||(t[33]=i=>l.criteriaValues.income.min=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"10000",max:"250000",step:"10000"},null,512),[[y,l.criteriaValues.income.min]])]),e("div",pt,[ft,n(e("input",{type:"number","onUpdate:modelValue":t[34]||(t[34]=i=>l.criteriaValues.income.max=i),class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"10000",max:"250000",step:"10000"},null,512),[[y,l.criteriaValues.income.max]])])])])):c("",!0)],2)]),e("div",_t,[e("button",{type:"submit",disabled:!s.isValid||l.saving,class:"w-full py-3 px-6 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-200 disabled:bg-blue-300"},m(l.saving?"Saving...":"Save Criteria"),9,xt)])],32)])])}const Mt=S(U,[["render",vt],["__scopeId","data-v-51ee0107"]]);export{Mt as default};
